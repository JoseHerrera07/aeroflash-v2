<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>AeroFlash v2.0</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 50px; background-color: #f0f2f5; }
        .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); max-width: 400px; margin: 0 auto; }
        .status { font-weight: bold; color: orange; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <div class="card">
        <h1>✈️ AeroFlash v2.0</h1>
        <p>Estado del Sistema:</p>
        <p id="api-status" class="status">Conectando con Backend...</p>
        <p id="db-status" class="status">Verificando Base de Datos...</p>
    </div>

    <script>
        // Esta petición va al Proxy Inverso (Nginx), que la redirige al Backend
        fetch('/api/health')
            .then(response => response.json())
            .then(data => {
                const apiElem = document.getElementById('api-status');
                const dbElem = document.getElementById('db-status');
                
                apiElem.textContent = "API Conectada con exito manito";
                apiElem.className = "success";

                if (data.database === 'connected') {
                    dbElem.textContent = "Base de Datos Conectada  con exito :D";
                    dbElem.className = "success";
                } else {
                    dbElem.textContent = "Error Base de Datos , mal ahi";
                    dbElem.className = "error";
                }
            })
            .catch(err => {
                document.getElementById('api-status').textContent = "Error de Conexión mi loco";
                document.getElementById('api-status').className = "error";
                console.error(err);
            });
    </script>
</body>
</html>
